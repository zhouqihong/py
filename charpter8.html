<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>第8章 · Matplotlib</title>
  
  <style>
    body{margin:0;font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"PingFang SC","Noto Sans CJK SC","Microsoft YaHei",sans-serif;background:#ffffff;color:#0f172a}
    .wrap{max-width:900px;margin:0 auto;padding:32px 20px}
    h1{margin:8px 0 12px}
    h2{margin-top:28px;border-bottom:1px solid #e2e8f0;padding-bottom:8px}
    h3{margin-top:24px}
    a{color:#0ea5e9;text-decoration:none}
    a:hover{color:#0284c7}
    .card{border:1px solid #e2e8f0;border-radius:16px;padding:28px;background:#fff;box-shadow:0 8px 30px rgba(2,8,23,.06);margin-top:24px}
    .list{padding-left:24px;line-height:1.8}
    .list li{margin-bottom:10px}
    .linkback{display:inline-flex;align-items:center;margin-top:14px;padding:8px 16px;background:#f1f5f9;border-radius:8px;font-weight:500}
    .linkback:hover{background:#e2e8f0}
    code{background:#f8fafc;padding:2px 6px;border-radius:6px;border:1px solid #e2e8f0;font-family:Monaco,Consolas,monospace}
    pre {
      background: #f6f8fa;
      color: #24292e;
      padding: 20px;
      border-radius: 6px;
      overflow: auto;
      margin: 20px 0;
      line-height: 1.45;
      font-family: "SFMono-Regular", "Consolas", "Liberation Mono", "Menlo", monospace;
      border: 1px solid #e1e4e8;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    pre code {
      background: transparent;
      padding: 0;
      border: none;
      border-radius: 0;
      color: inherit;
      font-size: 14px;
    }
    .note{background:#f0f9ff;border-left:4px solid #0ea5e9;padding:16px 20px;margin:20px 0;border-radius:0 8px 8px 0}
    .chapter-nav{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:16px;margin-top:32px}
    .chapter-card{background:#f8fafc;padding:20px;border-radius:12px;border:1px solid #e2e8f0;transition:all 0.2s ease}
    .chapter-card:hover{transform:translateY(-4px);box-shadow:0 12px 20px rgba(2,8,23,.08)}
    .chapter-card h3{margin-top:0;font-size:18px}
    .chapter-number{display:inline-block;background:#0ea5e9;color:white;width:32px;height:32px;border-radius:50%;text-align:center;line-height:32px;margin-right:10px;font-weight:bold}
    
    /* Jupyter Notebook风格语法高亮 */
    .hljs-comment,
    .hljs-quote {color: #8c8c8c; font-style: italic;}
    .hljs-keyword,
    .hljs-selector-tag,
    .hljs-subst {color: #d73a49;}
    .hljs-number,
    .hljs-literal {color: #005cc5;}
    .hljs-string,
    .hljs-doctag,
    .hljs-formula {color: #032f62;}
    .hljs-title,
    .hljs-section,
    .hljs-selector-id {color: #6f42c1;}
    .hljs-built_in,
    .hljs-class .hljs-title {color: #6f42c1;}
    .hljs-params {color: #24292e;}
    .hljs-attribute {color: #6f42c1;}
    .hljs-name {color: #22863a;}
    .hljs-tag {color: #22863a;}
    .hljs-variable,
    .hljs-template-variable {color: #e36209;}
    .hljs-regexp,
    .hljs-link {color: #d73a49;}
    .hljs-symbol,
    .hljs-bullet {color: #e36209;}
    .hljs-meta {color: #6f42c1;}
    .hljs-meta .hljs-keyword {color: #6f42c1;}
  </style>

</head>
<body>
  <div class="wrap">
    <a class="linkback" href="index.html">← 返回首页</a>
    <h1>第8章 · Matplotlib</h1>
    
    <div class="card">
      <h2>Python数据可视化</h2>
      <p>Matplotlib是Python中最流行的数据可视化库，提供了丰富的绘图功能。本章将介绍Matplotlib的基本图表绘制、高级可视化技术以及图片美化方法，帮助您创建专业的数据可视化图表。</p>
      
      <div class="note">
        <strong>学习目标：</strong>完成本章后，您将能够使用Matplotlib创建各种基本图表，掌握热力图和箱线图的绘制方法，学会美化图表并添加标注，以及创建词云图和中文本地化词云图。
      </div>
      
      <h3>本章内容概览</h3>
      <ul class="list">
        <li>Matplotlib数据可视化：基本图表（折线图、柱状图、散点图）</li>
        <li>热力图与箱线图：数据分布和相关性可视化</li>
        <li>图片美化与标注：图表样式、颜色、标注优化</li>
        <li>词云图：文本数据可视化</li>
        <li>自定义中文词云图：中文本地化词云图制作</li>
      </ul>
      
      <h3>基本图表示例</h3>
      <pre><code><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># 创建示例数据</span>
x = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>)
y1 = np.sin(x)
y2 = np.cos(x)

<span class="hljs-comment"># 创建折线图</span>
plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">6</span>))
plt.plot(x, y1, label=<span class="hljs-string">'sin(x)'</span>, color=<span class="hljs-string">'blue'</span>, linewidth=<span class="hljs-number">2</span>)
plt.plot(x, y2, label=<span class="hljs-string">'cos(x)'</span>, color=<span class="hljs-string">'red'</span>, linewidth=<span class="hljs-number">2</span>)
plt.title(<span class="hljs-string">'三角函数图像'</span>)
plt.xlabel(<span class="hljs-string">'x轴'</span>)
plt.ylabel(<span class="hljs-string">'y轴'</span>)
plt.legend()
plt.grid(<span class="hljs-literal">True</span>, alpha=<span class="hljs-number">0.3</span>)
plt.show()

<span class="hljs-comment"># 创建柱状图</span>
categories = [<span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'C'</span>, <span class="hljs-string">'D'</span>, <span class="hljs-string">'E'</span>]
values = [<span class="hljs-number">23</span>, <span class="hljs-number">45</span>, <span class="hljs-number">56</span>, <span class="hljs-number">78</span>, <span class="hljs-number">33</span>]

plt.figure(figsize=(<span class="hljs-number">8</span>, <span class="hljs-number">5</span>))
plt.bar(categories, values, color=[<span class="hljs-string">'skyblue'</span>, <span class="hljs-string">'lightcoral'</span>, <span class="hljs-string">'lightgreen'</span>, <span class="hljs-string">'gold'</span>, <span class="hljs-string">'violet'</span>])
plt.title(<span class="hljs-string">'柱状图示例'</span>)
plt.xlabel(<span class="hljs-string">'类别'</span>)
plt.ylabel(<span class="hljs-string">'数值'</span>)
plt.show()</code></pre>
      
      <h3>热力图与箱线图示例</h3>
      <pre><code><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-comment"># 创建相关性热力图</span>
data = np.random.randn(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>)
plt.figure(figsize=(<span class="hljs-number">8</span>, <span class="hljs-number">6</span>))
sns.heatmap(data, annot=<span class="hljs-literal">True</span>, cmap=<span class="hljs-string">'coolwarm'</span>, center=<span class="hljs-number">0</span>)
plt.title(<span class="hljs-string">'相关性热力图'</span>)
plt.show()

<span class="hljs-comment"># 创建箱线图</span>
data_box = [np.random.normal(<span class="hljs-number">0</span>, std, <span class="hljs-number">100</span>) <span class="hljs-keyword">for</span> std <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)]
plt.figure(figsize=(<span class="hljs-number">8</span>, <span class="hljs-number">6</span>))
plt.boxplot(data_box, labels=[<span class="hljs-string">'Group 1'</span>, <span class="hljs-string">'Group 2'</span>, <span class="hljs-string">'Group 3'</span>, <span class="hljs-string">'Group 4'</span>])
plt.title(<span class="hljs-string">'箱线图示例'</span>)
plt.ylabel(<span class="hljs-string">'数值'</span>)
plt.show()</code></pre>
      
      <h3>图片美化与标注示例</h3>
      <pre><code><span class="hljs-comment"># 创建美化后的图表</span>
plt.style.use(<span class="hljs-string">'seaborn-v0_8'</span>)  <span class="hljs-comment"># 使用seaborn样式</span>

x = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>)
y = x ** <span class="hljs-number">2</span>

fig, ax = plt.subplots(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">6</span>))
ax.plot(x, y, linewidth=<span class="hljs-number">3</span>, color=<span class="hljs-string">'#2E86AB'</span>, label=<span class="hljs-string">'y = x²'</span>)

<span class="hljs-comment"># 添加标注</span>
ax.annotate(<span class="hljs-string">'最大值区域'</span>, xy=(<span class="hljs-number">8</span>, <span class="hljs-number">64</span>), xytext=(<span class="hljs-number">5</span>, <span class="hljs-number">80</span>),
            arrowprops=dict(facecolor=<span class="hljs-string">'black'</span>, shrink=<span class="hljs-number">0.05</span>, width=<span class="hljs-number">1.5</span>),
            fontsize=<span class="hljs-number">12</span>, ha=<span class="hljs-string">'center'</span>)

<span class="hljs-comment"># 设置标题和标签</span>
ax.set_title(<span class="hljs-string">'美化后的二次函数图像'</span>, fontsize=<span class="hljs-number">16</span>, fontweight=<span class="hljs-string">'bold'</span>)
ax.set_xlabel(<span class="hljs-string">'x值'</span>, fontsize=<span class="hljs-number">12</span>)
ax.set_ylabel(<span class="hljs-string">'y值'</span>, fontsize=<span class="hljs-number">12</span>)
ax.legend(fontsize=<span class="hljs-number">12</span>)
ax.grid(<span class="hljs-literal">True</span>, alpha=<span class="hljs-number">0.3</span>)

<span class="hljs-comment"># 设置背景色</span>
ax.set_facecolor(<span class="hljs-string">'#F8F9FA'</span>)
fig.patch.set_facecolor(<span class="hljs-string">'white'</span>)

plt.tight_layout()
plt.show()</code></pre>
      
      <h3>词云图示例</h3>
      <pre><code><span class="hljs-keyword">from</span> wordcloud <span class="hljs-keyword">import</span> WordCloud
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image
<span class="hljs-keyword">import</span> jieba

<span class="hljs-comment"># 英文词云图</span>
text = <span class="hljs-string">"Python data science machine learning deep learning \
artificial intelligence visualization matplotlib pandas numpy \
programming coding algorithm"</span>

wordcloud = WordCloud(width=<span class="hljs-number">800</span>, height=<span class="hljs-number">400</span>, 
                      background_color=<span class="hljs-string">'white'</span>,
                      colormap=<span class="hljs-string">'viridis'</span>).generate(text)

plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">5</span>))
plt.imshow(wordcloud, interpolation=<span class="hljs-string">'bilinear'</span>)
plt.axis(<span class="hljs-string">'off'</span>)
plt.title(<span class="hljs-string">'英文词云图'</span>, fontsize=<span class="hljs-number">16</span>)
plt.show()</code></pre>
      
      <h3>自定义中文词云图示例</h3>
      <pre><code><span class="hljs-comment"># 中文词云图</span>
chinese_text = <span class="hljs-string">"数据科学 人工智能 机器学习 深度学习 自然语言处理 \
计算机视觉 数据分析 数据可视化 Python编程 算法设计 神经网络 \
大数据 云计算 物联网 区块链 数字化转型"</span>

<span class="hljs-comment"># 使用jieba进行中文分词</span>
text_cut = <span class="hljs-string">" "</span>.join(jieba.cut(chinese_text))

<span class="hljs-comment"># 创建中文词云</span>
wordcloud_cn = WordCloud(width=<span class="hljs-number">800</span>, height=<span class="hljs-number">400</span>,
                         background_color=<span class="hljs-string">'white'</span>,
                         font_path=<span class="hljs-string">'simhei.ttf'</span>,  <span class="hljs-comment"># 使用中文字体</span>
                         colormap=<span class="hljs-string">'plasma'</span>,
                         max_words=<span class="hljs-number">50</span>).generate(text_cut)

plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">5</span>))
plt.imshow(wordcloud_cn, interpolation=<span class="hljs-string">'bilinear'</span>)
plt.axis(<span class="hljs-string">'off'</span>)
plt.title(<span class="hljs-string">'中文词云图'</span>, fontsize=<span class="hljs-number">16</span>, fontproperties=<span class="hljs-string">'SimHei'</span>)
plt.show()</code></pre>
    </div>
    
    <div class="card">
      <h2>导航</h2>
      <ul class="list">
        <li><a href="chapter8_1.html">8.1 Matplotlib数据可视化：基本图表</a></li>
        <li><a href="chapter8_2.html">8.2 热力图与箱线图</a></li>
        <li><a href="chapter8_3.html">8.3 图片美化与标注</a></li>
        <li><a href="chapter8_4.html">8.4 词云图</a></li>
        <li><a href="chapter8_5.html">8.5 自定义中文词云图</a></li>
      </ul>
    </div>
  </div>
</body>
</html>