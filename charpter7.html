<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>第7章 · Pandas与Numpy</title>
  
  <style>
    body{margin:0;font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"PingFang SC","Noto Sans CJK SC","Microsoft YaHei",sans-serif;background:#ffffff;color:#0f172a}
    .wrap{max-width:900px;margin:0 auto;padding:32px 20px}
    h1{margin:8px 0 12px}
    h2{margin-top:28px;border-bottom:1px solid #e2e8f0;padding-bottom:8px}
    h3{margin-top:24px}
    a{color:#0ea5e9;text-decoration:none}
    a:hover{color:#0284c7}
    .card{border:1px solid #e2e8f0;border-radius:16px;padding:28px;background:#fff;box-shadow:0 8px 30px rgba(2,8,23,.06);margin-top:24px}
    .list{padding-left:24px;line-height:1.8}
    .list li{margin-bottom:10px}
    .linkback{display:inline-flex;align-items:center;margin-top:14px;padding:8px 16px;background:#f1f5f9;border-radius:8px;font-weight:500}
    .linkback:hover{background:#e2e8f0}
    code{background:#f8fafc;padding:2px 6px;border-radius:6px;border:1px solid #e2e8f0;font-family:Monaco,Consolas,monospace}
    pre {
      background: #f6f8fa;
      color: #24292e;
      padding: 20px;
      border-radius: 6px;
      overflow: auto;
      margin: 20px 0;
      line-height: 1.45;
      font-family: "SFMono-Regular", "Consolas", "Liberation Mono", "Menlo", monospace;
      border: 1px solid #e1e4e8;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    pre code {
      background: transparent;
      padding: 0;
      border: none;
      border-radius: 0;
      color: inherit;
      font-size: 14px;
    }
    .note{background:#f0f9ff;border-left:4px solid #0ea5e9;padding:16px 20px;margin:20px 0;border-radius:0 8px 8px 0}
    .chapter-nav{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:16px;margin-top:32px}
    .chapter-card{background:#f8fafc;padding:20px;border-radius:12px;border:1px solid #e2e8f0;transition:all 0.2s ease}
    .chapter-card:hover{transform:translateY(-4px);box-shadow:0 12px 20px rgba(2,8,23,.08)}
    .chapter-card h3{margin-top:0;font-size:18px}
    .chapter-number{display:inline-block;background:#0ea5e9;color:white;width:32px;height:32px;border-radius:50%;text-align:center;line-height:32px;margin-right:10px;font-weight:bold}
    
    /* Jupyter Notebook风格语法高亮 */
    .hljs-comment,
    .hljs-quote {color: #8c8c8c; font-style: italic;}
    .hljs-keyword,
    .hljs-selector-tag,
    .hljs-subst {color: #d73a49;}
    .hljs-number,
    .hljs-literal {color: #005cc5;}
    .hljs-string,
    .hljs-doctag,
    .hljs-formula {color: #032f62;}
    .hljs-title,
    .hljs-section,
    .hljs-selector-id {color: #6f42c1;}
    .hljs-built_in,
    .hljs-class .hljs-title {color: #6f42c1;}
    .hljs-params {color: #24292e;}
    .hljs-attribute {color: #6f42c1;}
    .hljs-name {color: #22863a;}
    .hljs-tag {color: #22863a;}
    .hljs-variable,
    .hljs-template-variable {color: #e36209;}
    .hljs-regexp,
    .hljs-link {color: #d73a49;}
    .hljs-symbol,
    .hljs-bullet {color: #e36209;}
    .hljs-meta {color: #6f42c1;}
    .hljs-meta .hljs-keyword {color: #6f42c1;}
  </style>

</head>
<body>
  <div class="wrap">
    <a class="linkback" href="index.html">← 返回首页</a>
    <h1>第7章 · Pandas与Numpy</h1>
    
    <div class="card">
      <h2>Python数据科学核心库</h2>
      <p>NumPy和Pandas是Python数据科学生态系统中最核心的两个库。NumPy提供了高效的数值计算能力，而Pandas则提供了强大的数据处理和分析工具。本章将介绍这两个库的基本概念和常用操作。</p>
      
      <div class="note">
        <strong>学习目标：</strong>完成本章后，您将能够使用NumPy进行数组操作和向量化计算，掌握Pandas的Series和DataFrame数据结构，并能够进行数据选择、过滤和缺失值处理。
      </div>
      
      <h3>本章内容概览</h3>
      <ul class="list">
        <li>NumPy数组与向量化：多维数组、数组操作、向量化计算</li>
        <li>Pandas Series/DataFrame：数据结构、创建方法、基本操作</li>
        <li>选择、过滤与缺失值：数据选择、条件过滤、缺失值处理</li>
      </ul>
      
      <h3>NumPy 示例</h3>
      <pre><code><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-built_in">print</span>(<span class="hljs-string">"=== NumPy数组与向量化 ==="</span>)
<span class="hljs-comment"># 创建数组</span>
arr = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"一维数组: <span class="hljs-subst">{arr}</span>"</span>)

<span class="hljs-comment"># 二维数组</span>
matrix = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]])
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"二维数组:\n<span class="hljs-subst">{matrix}</span>"</span>)

<span class="hljs-comment"># 向量化运算</span>
arr_squared = arr ** <span class="hljs-number">2</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"数组平方: <span class="hljs-subst">{arr_squared}</span>"</span>)

<span class="hljs-comment"># 数组统计</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"数组平均值: <span class="hljs-subst">{np.mean(arr):<span class="hljs-number">.2</span>f}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"数组标准差: <span class="hljs-subst">{np.std(arr):<span class="hljs-number">.2</span>f}</span>"</span>)

<span class="hljs-comment"># 数组操作</span>
arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])
arr2 = np.array([<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"数组相加: <span class="hljs-subst">{arr1 + arr2}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"数组点积: <span class="hljs-subst">{np.dot(arr1, arr2)}</span>"</span>)</code></pre>
      
      <h3>Pandas 示例</h3>
      <pre><code><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-built_in">print</span>(<span class="hljs-string">"=== Pandas Series/DataFrame ==="</span>)
<span class="hljs-comment"># 创建Series</span>
series_data = pd.Series([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>], index=[<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>, <span class="hljs-string">'d'</span>])
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Series:\n<span class="hljs-subst">{series_data}</span>"</span>)

<span class="hljs-comment"># 创建DataFrame</span>
data = {
    <span class="hljs-string">'姓名'</span>: [<span class="hljs-string">'张三'</span>, <span class="hljs-string">'李四'</span>, <span class="hljs-string">'王五'</span>, <span class="hljs-string">'赵六'</span>],
    <span class="hljs-string">'年龄'</span>: [<span class="hljs-number">25</span>, <span class="hljs-number">30</span>, <span class="hljs-number">35</span>, <span class="hljs-number">28</span>],
    <span class="hljs-string">'城市'</span>: [<span class="hljs-string">'北京'</span>, <span class="hljs-string">'上海'</span>, <span class="hljs-string">'广州'</span>, <span class="hljs-string">'深圳'</span>],
    <span class="hljs-string">'工资'</span>: [<span class="hljs-number">5000</span>, <span class="hljs-number">8000</span>, <span class="hljs-number">6000</span>, <span class="hljs-number">7500</span>]
}
df = pd.DataFrame(data)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"DataFrame:\n<span class="hljs-subst">{df}</span>"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"\n=== 选择、过滤与缺失值 ==="</span>)
<span class="hljs-comment">// 选择列</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"姓名列:\n<span class="hljs-subst">{df[<span class="hljs-string">'姓名'</span>]}</span>"</span>)

<span class="hljs-comment">// 条件过滤</span>
high_salary = df[df[<span class="hljs-string">'工资'</span>] > <span class="hljs-number">6000</span>]
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"工资大于6000的员工:\n<span class="hljs-subst">{high_salary}</span>"</span>)

<span class="hljs-comment">// 处理缺失值</span>
df_with_na = df.copy()
df_with_na.loc[<span class="hljs-number">2</span>, <span class="hljs-string">'工资'</span>] = <span class="hljs-literal">None</span>  <span class="hljs-comment">// 添加缺失值</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"包含缺失值的DataFrame:\n<span class="hljs-subst">{df_with_na}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"缺失值统计:\n<span class="hljs-subst">{df_with_na.isnull().sum()}</span>"</span>)

<span class="hljs-comment">// 填充缺失值</span>
df_filled = df_with_na.fillna({<span class="hljs-string">'工资'</span>: df_with_na[<span class="hljs-string">'工资'</span>].mean()})
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"填充缺失值后的DataFrame:\n<span class="hljs-subst">{df_filled}</span>"</span>)</code></pre>
    </div>
    
    <div class="card">
      <h2>导航</h2>
      <ul class="list">
        <li><a href="chapter7_1.html">7.1 NumPy数组与向量化</a></li>
        <li><a href="chapter7_2.html">7.2 Pandas Series/DataFrame</a></li>
        <li><a href="chapter7_3.html">7.3 选择、过滤与缺失值</a></li>
      </ul>
    </div>
  </div>
</body>
</html>